---
title: "Quick Connect for Serial and SSH"
categories:
  - Code
tags:
  - Programming
  - Bash
  - Python
toc: true
---

To create a simple select menu for quick connect serial devices and SSH Over the NET.

## Bash Shell Scripting

```bash
###
#!/bin/bash
#Quick Connect for Serial and SSH
#Arthur: Star Chang

echo -e "********************\n"
echo -e "1). Blade#1 Console \n"
echo -e "2). Blade#2 Console \n"
echo -e "3). Blade#3 Console \n"
echo -e "4). Blade#4 Console \n"
echo -e "5). Blade#5 SSH     \n"
echo -e "6). Blade#6 SSH     \n"
echo -e "7). Blade#7 SSH     \n"
echo -e "8). Blade#8 SSH     \n"
echo -e "********************\n"
echo -e "Please select preferred connection:"

while true; do
  read n
  case $n in
    1) sudo kill -9 $(sudo lsof -t /dev/ttyUSB0)
       sleep 1
       cu -l /dev/ttyUSB0 -s 115200
       break
       ;;
    2) sudo kill -9 $(sudo lsof -t /dev/ttyUSB1)
       sleep 1
       cu -l /dev/ttyUSB1 -s 115200
       break
       ;;
    3) sudo kill -9 $(sudo lsof -t /dev/ttyUSB2)
       sleep 1
       cu -l /dev/ttyUSB2 -s 115200
       break
       ;;
    4) sudo kill -9 $(sudo lsof -t /dev/ttyUSB3)
       sleep 1
       cu -l /dev/ttyUSB3 -s 115200
       break
       ;;
    5) ssh stack@10.10.215.10 -p 22
       break
       ;;
    6) ssh stack@10.10.215.20 -p 22
       break
       ;;
    7) ssh stack@10.10.215.30 -p 22
       break
       ;;
    8) ssh stack@10.10.215.40 -p 22
       break
       ;;
    *) echo -e "invalid connection, select again >";;
  esac
done

```

**ProTip:** Sometimes serial port is stuck from last time connection. So kill dead process before new serial connection.
{:.notice--info}

## Python

```python
def print_menu():       ## Your menu design here
    print 30 * "-" , "MENU" , 30 * "-"
    print "1). Blade#1 Console"
    print "2). Blade#2 Console"
    print "3). Blade#3 Console"
    print "4). Blade#4 Console"
    print "5). Blade#5 SSH"
    print "6). Blade#6 SSH"
    print "7). Blade#7 SSH"
    print "8). Blade#8 SSH"
    print "0). Exit"
    print 67 * "-"

loop=True

while loop:          ## While loop which will keep going until loop = False
    print_menu()    ## Displays menu
    choice = input("Enter your choice [1-8]: ")

    if choice==1:
        print "Menu 1 has been selected"
        ## You can add your code or functions here
    elif choice==2:
        print "Menu 2 has been selected"
        ## You can add your code or functions here
    elif choice==3:
        print "Menu 3 has been selected"
        ## You can add your code or functions here
    elif choice==4:
        print "Menu 4 has been selected"
        ## You can add your code or functions here
    elif choice==5:
        print "Menu 5 has been selected"
        ## You can add your code or functions here
        loop=False # This will make the while loop to end as not value of loop is set to False
    else:
        # Any integer inputs other than values 1-5 we print an error message
        raw_input("Wrong option selection. Enter any key to try again..")

```
